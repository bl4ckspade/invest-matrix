
:root{
  --bg:#050806;
  --bg-2:#0b140f;
  --grid:rgba(120,255,180,0.15);
  --text:#c8fce3;
  --muted:#79e6b7;
  --accent:#00ff9c;
  --accent-soft:#00ff9c33;
  --blue:#7ed0ff;
  --blue-soft:#7ed0ff33;
  --mint:#87f7cf;
  --panel:#0d1914;
  --card:#0f1f18;
  --shadow:0 0 25px rgba(0,255,156,0.2), inset 0 0 10px rgba(0,255,156,0.05);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: Consolas, Menlo, Monaco, "Courier New", monospace;
  background: radial-gradient(1200px 600px at 70% 0%, #07110c 0%, var(--bg) 55%);
  color: var(--text);
  overflow-x:hidden;
}

#matrix-bg{
  position: fixed; inset: 0; z-index:-2;
  filter: blur(0.4px) contrast(1.1);
}

.header{
  text-align:center; padding: 28px 12px 12px;
}
.glow{
  margin:0;
  letter-spacing: 1px;
  text-shadow: 0 0 12px var(--accent), 0 0 2px #0a0;
  color: var(--accent);
  font-weight: 700;
  font-size: clamp(20px, 3.3vw, 42px);
}
.cursor{ animation: blink 1.4s steps(1) infinite; margin-left: 6px; }
@keyframes blink { 50% { opacity: 0; } }
.sub{ margin:6px 0 0; opacity:0.7; font-size: 0.95rem; }

.container{
  display: grid;
  grid-template-columns: 360px 1fr;
  gap: 16px;
  padding: 12px 16px 24px;
  max-width: 1400px; margin: 0 auto;
}

.panel{
  background: linear-gradient(180deg, var(--panel), #0a130f);
  border: 1px solid #0f3022;
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 14px;
}
.panel-title{
  margin: 0 0 10px;
  font-size: 1rem;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.controls .field{ margin: 10px 0; display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.controls label{ font-size: 0.95rem; opacity:0.95; }
.controls input[type="number"],
.controls select{
  flex: 1 1 auto;
  background: #0b1913;
  border: 1px solid #145837;
  border-radius: 10px;
  padding: 10px 12px;
  color: var(--text);
  outline: none;
  box-shadow: inset 0 0 6px rgba(0,255,156,0.08);
}
.controls input[type="range"]{ width: 100%; }
#horizonOut{ color: var(--accent); font-weight:700; }
.inline-label{ min-width: 95px; }
.suffix{ opacity: 0.7; margin-left: -6px; }
.hint{ width:100%; font-size: 0.8rem; opacity:0.6; }

.row{ display:flex; align-items:center; gap:10px; }
.sims{ margin-top: 14px; }

.switch{
  position: relative; width: 46px; height: 26px; display:inline-block;
}
.switch input{ display:none; }
.slider{
  position:absolute; inset:0; cursor:pointer; background:#173527;
  border:1px solid #145837; border-radius: 20px;
  box-shadow: inset 0 0 6px rgba(0,255,156,0.12);
  transition: .2s;
}
.slider:before{
  content:""; position:absolute; height:20px; width:20px; left:3px; top:2px;
  background:#0a2016; border:1px solid #1dbf7a; border-radius:50%;
  box-shadow: 0 0 8px rgba(0,255,156,0.4);
  transition:.2s;
}
.switch input:checked + .slider{ background:#12462f; }
.switch input:checked + .slider:before{ transform: translateX(20px); }

.buttons{ display:flex; gap:8px; margin-top: 6px; flex-wrap:wrap;}
.btn{
  padding: 10px 14px; border-radius: 12px; cursor:pointer; border:1px solid #146b44;
  background:#0e211a; color:var(--text);
  box-shadow: 0 0 10px rgba(0,255,156,0.15);
  transition: transform .05s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover{ box-shadow: 0 0 16px rgba(0,255,156,0.25); }
.btn:active{ transform: translateY(1px); }
.btn.primary{ background: #0e2b20; border-color:#19a36a; }
.btn.secondary{ background:#0e2230; border-color:#2a7caf; }
.btn.ghost{ background: transparent; border-color:#205640; opacity:0.8; }

.summary .cards{
  display:grid; gap:10px;
  grid-template-columns: repeat(2, minmax(0,1fr));
}
.card{
  background: var(--card);
  border:1px solid #12492f;
  border-radius: 14px;
  padding: 12px;
  box-shadow: var(--shadow);
  min-height: 80px;
}
.card.big{ grid-column: span 2; }
.card .label{ font-size:.85rem; opacity:.8; margin-bottom:6px; }
.card .value{ font-size: clamp(18px, 3vw, 34px); color: var(--mint); font-weight:700; text-shadow: 0 0 10px rgba(135,247,207,.18); }
.hidden{ display:none !important; }

.mc-grid{
  grid-column: span 2;
  display:grid; gap:10px;
  grid-template-columns: repeat(5, minmax(0,1fr));
}
.stat{ background:#0a1a14; border:1px solid #154f35; border-radius: 12px; padding:10px; text-align:center; }
.tag{ font-size:.8rem; color:#86ffd2; opacity:0.9; }
.statv{ font-size: clamp(14px, 2.2vw, 24px); font-weight: 700; color: var(--blue); text-shadow: 0 0 10px rgba(126,208,255,.18); }

.note{ margin-top: 10px; opacity:0.6; font-size: .85rem; }

.chartbox{ grid-column: span 2; }
.chart-header{ display:flex; align-items:center; justify-content: space-between; margin-bottom: 8px; }
.badge{
  background: #0a2017; border:1px solid #1e7e53; padding:6px 10px; border-radius: 999px;
  font-size: .85rem; color: #9ff3cf; box-shadow: var(--shadow);
}
.legend{ display:flex; align-items:center; gap:10px; opacity:0.9; font-size:.9rem; }
.key{ display:inline-block; width:18px; height:6px; border-radius: 999px; margin-right:4px; }
.key-green{ background: var(--mint); box-shadow: 0 0 10px rgba(135,247,207,.3); }
.key-blue{ background: var(--blue); box-shadow: 0 0 10px rgba(126,208,255,.3); }
.key-band{ background: linear-gradient(90deg, var(--blue-soft), var(--accent-soft)); height:8px; border-radius:4px; width:38px; }
.sep{ width:1px; height:14px; background:#134e35; opacity:.6; }

.canvas-wrap{
  position: relative;
  background: linear-gradient(180deg, #07110c, #07110c 60%, #081511);
  border:1px solid #0e4931; border-radius: 16px;
  padding: 8px; box-shadow: var(--shadow);
}
#chart{ width:100%; height:auto; display:block; border-radius: 12px; }

.tooltip{
  position:absolute; pointer-events:none;
  background:#0a1a15; border:1px solid #1aa36f; padding:6px 8px; border-radius: 8px;
  font-size:.9rem; color:#bffff0; box-shadow: 0 0 14px rgba(0,255,156,.15);
  transform: translate(-50%, -100%); white-space: nowrap;
}

.footer{ text-align:center; padding: 10px 12px 24px; opacity:0.6; font-size:.85rem; }

@media (max-width: 980px){
  .container{ grid-template-columns: 1fr; }
  .chartbox{ grid-column: span 1; }
  .mc-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
